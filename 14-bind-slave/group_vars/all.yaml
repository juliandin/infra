domain: julprom.jd

backup_host: 192.168.42.39

dns_forwarders:
  - 0.0.0.0
  - 1.1.1.1
  - 8.8.8.8
  - 9.9.9.9

dns_cnames:
  - cname: prometheus
    real: "{{ groups['prometheus_server'] [0] }}"
  - cname: db
    real: "{{ groups['mysql_servers'] [0] }}"
  - cname: grafana
    real: "{{ groups['grafana'] [0] }}"
  - cname: www
    real: "{{ groups['web_servers'] [0] }}"
  - cname: web1
    real: "{{ groups['web_servers'] [0] }}"
  - cname: web2
    real: "{{ groups['web_servers'] [1] }}"
  - cname: ns
    real: "{{ groups['dns_servers'] [0] }}"
  - cname: influxdb
    real: "{{ groups['influxdb'] [0] }}"
  - cname: mysql-repl
    real: "{{ groups['mysql_servers'] [1] }}"

allowed_queries:
  - 192.168.42.0/24
  - 127.0.0.0/8
  - 172.17.0.0/16

grafana_docker_port: 3001
agama_docker_port: 8001

prometheus_jobs:
  - name: node
    targets: "{{ groups['all'] }}"
    port: 9100

  - name: bind
    targets: 
      - ns
    port: 9119

  - name: bind-slave
    targets: 
      - bind-slave
    port: 9119

  - name: mysql
    targets: 
      - db
    port: 9104

  - name: mysql_replication
    targets: 
      - mysql-repl
    port: 9104
    
  - name: agama-nginx
    targets: 
      - www
    port: 9113

  - name: grafana
    targets: 
      - grafana
    port: 3000

  - name: haproxy
    targets:
      - web1
      - web2
    port: 9101

  - name: keepalived
    targets:
      - web1
      - web2
    port: 9165
    
my_vm_names:
  - vm-1
  - vm-2

mysql_host: 192.168.42.121
mysql_database: agama
mysql_user: agama
mysql_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          62343937313630623865393831333532383861656630646238636132663165336466353935666165
          3631323637313561336661616339333931656661653235630a333639333530616237393934373566
          34383536373631616365633665636165616439346430363639623635356436373464306633323261
          3435393234326232310a363731616236313161663937303461396234376461626130613234376466
          6662

mysql_exporter_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          61333163626231376166366132336536306230616566376336316435373263623661313461643234
          6134623962616131303562386630376138373264343930310a343264323065623230643962396634
          37383338343862393039323263333533666566356537333532373762353466613937356665306133
          3330656661313962620a306237623333343865633339323762333131343864353661663562323263
          6463

mysql_pass_backup: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          32383739346131313362323230353836333533653566346230373430653837643132613432336563
          6638313638623231323461306332646462653238303463640a303235383536343138643362343966
          34353966653434386537393836363931636231636434343962303933643031326333666265316164
          3736383131316337650a643861626664666336393639353664633464643432653733383731653334
          3937

replication_user_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          37613935306636326136353032623762363764333763396338306434396537306632623134393164
          3430326665333231623362316636613932653637373765320a313430636662616638313734333833
          38653238353465353536353165363737656262383065376339363839366339363739383333333232
          6531393733626663320a373831643466383837643066366535363031353737626236623635356133
          6134

ns_transfer_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          37616435316561303936396636333866313932633532626538643936326662303631393434386430
          3162633164653230383766636135333931363366306238630a313961636530663036343139363763
          36346339353539326330613032373435623131633131646533663039376334643634323738383365
          3534386264383436620a356335626534363936333161636137386135376438376662313166643737
          39346364633065366437666137626236376162373332363061633639653139653937393531626433
          3839643061613831373135303338303039383436396335633834

ns_update_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          34613862356464353937356339343936666230646532333030636334306333366638393436323735
          3266333937633764643964323665653963396636356430340a393439616338646433303136656539
          30323863616431643664373534303261663366653631333631643839333238353863373866653434
          3163353635616437340a316466316531646637663063363863366361393033636632316663313464
          39376263613936343564363961623962313238633031383166383039326330323031333966626331
          3665666436303162366333653939616161623232616338393963

